<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Challenge: Gifs</title>
</head>
<body>
    
    <form>
        <input type="text" id="userInput">
        <input type="submit" id="submitButton">
    </form>
    <button id="deleteAll">Delete All</button>
    <div id="allImgs"></div>
    
    <script>
    //     const params = new URLSearchParams({
    //     param1: 'value1',
    //     param2: 'value2'
    // });
    // console.log(params.toString());
            const allimgDiv = document.getElementById("allImgs");
            const deletAllBtn = document.getElementById("deleteAll");
            deletAllBtn.addEventListener("click", ()=>{
                allimgDiv.innerHTML=""
            })
        
        async function getRandomGiphy(input){
            const response = await fetch(`https://api.giphy.com/v1/gifs/random?api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My&tag=${userInput}`)
            let data = await response.json();
            // console.log(data);
            return data
        }
        // getRandomGiphy();

        const submitButton = document.getElementById("submitButton");
        submitButton.addEventListener("click", async (e)=>{
            e.preventDefault();
            const userInput = document.getElementById("userInput")
            const apiObject = await getRandomGiphy(userInput);
            
            const imgOutput = apiObject.data.images.original.url;
            const divContainer = document.createElement("div");
            const imgElm  = document.createElement("img");
            const deleteBtn = document.createElement("button");
            deleteBtn.textContent = "DELETE"
            deleteBtn.addEventListener("click", (e)=>{
                divContainer.remove();
            }
        )
            imgElm.src = imgOutput;
            divContainer.appendChild(imgElm);
            divContainer.appendChild(deleteBtn);
            allimgDiv.appendChild(divContainer);
        })
        
        
    </script>
</body>
</html>